<!doctype html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Looking Glass(Beta!)</title>

<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap.min.css" type="text/css">

<style type="text/css">
.chart{
	min-width:760px;
	height:400px;
}
</style>

<!--[if lt IE 9]>
        <script src="http://cdn.bootcss.com/html5shiv/3.7.0/html5shiv.min.js" type="text/javascript"></script>
        <script src="http://cdn.bootcss.com/respond.js/1.3.0/respond.min.js" type="text/javascript"></script>
    <![endif]-->

</head>

<body>
<h2>Looking Glass正在收集数据和进行测试</h2>
<h3>与BGPlay功能不同，这个工具只采集Ping数据。</h3>
<h4>数据来自超过10个不同ISP或者机房的Looking Glass。目前先拿几个进行功能测试</h4>
<h5>数据仅供参考。</h5>
<br />
<h5>以下是最新数据：</h5>
<div class="container">
<div id="chart" class="chart">

</div>
<div class="col-xs-12">
<table id="example" class="table table-striped col-xs-11">
<thead>
          <tr>
            <th>数据源</th>
            <th>最低延迟</th>
            <th>平均延迟</th>
            <th>最高延迟</th>
            <th>丢包率</th>
            <th>测试时间</th>
          </tr>
        </thead>
        <tbody>
        <tr>
        <td colspan="6">
        中国电信
        </td>
        </tr>
        {foreach from=$ctArray item=ctItem}
        <tr>
        <td>
        {$ctItem.source}
        </td>
        <td>
        {$ctItem.min}ms
        </td>
        <td>
        {$ctItem.avg}ms
        </td>
        <td>
        {$ctItem.max}ms
        </td>
        <td>
        {$ctItem.loss}%
        </td>
        <td>
        {$ctItem.time}
        </td>
        </tr>
        {/foreach}
        <tr>
        <td colspan="6">
        中国联通
        </td>
        </tr>
        {foreach from=$cuArray item=cuItem}
        <tr>
        <td>
        {$cuItem.source}
        </td>
        <td>
        {$cuItem.min}ms
        </td>
        <td>
        {$cuItem.avg}ms
        </td>
        <td>
        {$cuItem.max}ms
        </td>
        <td>
        {$cuItem.loss}%
        </td>
        <td>
        {$cuItem.time}
        </td>
        </tr>
        {/foreach}
        <tr>
        <td colspan="6">
        中国移动
        </td>
        </tr>
        {foreach from=$cmArray item=cmItem}
        <tr>
        <td>
        {$cmItem.source}
        </td>
        <td>
        {$cmItem.min}ms
        </td>
        <td>
        {$cmItem.avg}ms
        </td>
        <td>
        {$cmItem.max}ms
        </td>
        <td>
        {$cmItem.loss}%
        </td>
        <td>
        {$cmItem.time}
        </td>
        </tr>
        {/foreach}
        </tbody>
</table>
</div>
</div>


<footer class="text-right">Page rendered in <strong>{$elapsed_time}</strong> seconds, used <strong>{$memory_get_usage}</strong> KB memory.</footer>
<script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
<script src="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/js/bootstrap.min.js" type="text/javascript"></script>
<script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js" type="text/javascript"></script>
<script src="http://cdn.bootcss.com/highcharts/3.0.9/highcharts.js"></script>
<script src="http://cdn.bootcss.com/highcharts/3.0.9/modules/exporting.js"></script>
{literal}
<script type="text/javascript">
$(function () { 
    $('#chart').highcharts({
		chart: {
			type: 'line'
		},
		title: {
			text: 'Looking Glass',
			x: -20
		},
		subtitle: {
			text: '最新数据',
			x: -20
		},
		xAxis: {
			categories:
			[
				'00:00',
				'01:00',
				'02:00',
				'03:00',
				'04:00',
				'05:00',
				'06:00',
				'07:00',
				'08:00',
				'09:00',
				'10:00',
				'11:00',
				'12:00'
			]
		},
		yAxis: {
			title: {
				text: '平均延迟'
			},
			plotLines: [{
				value: 0,
				width: 1,
				color: '#66ccff'
			}]
		},
		tooltip: {
			valueSuffix: 'ms'
		},
		legend: {
			layout: 'vertical',
			align: 'right',
			verticalAlign: 'middle',
			borderWidth: 0
		},
		series: [{
			name: 'Krypt(VPLS)',
			data: [1,2,3,4,5,6,7,8,9,10,11,12]
		}, {
			name: 'Sakura',
			data: [12,11,10,9,8,7,6,5,4,3,2,1]
		}]
	});
});
</script>
{/literal}
</body>
</html>
